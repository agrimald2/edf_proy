import{d as u,o as t,c as f,w as m,a as e,i as v,e as o,f as _,t as r,j as g,p as y,k as b}from"./app-CpN6b7nJ.js";import{_ as w}from"./AppLayout-ADD3as-o.js";import{_ as S}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Banner-B-sOSfdH.js";const d=c=>(y("data-v-de9a063c"),c=c(),b(),c),k=d(()=>e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Clientes ",-1)),E={class:"py-12"},C={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},U={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg p-8"},D=d(()=>e("label",{for:"customer-upload",class:"block text-sm font-medium text-gray-700"}," Documento de Clientes ",-1)),A={class:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md"},B={class:"space-y-1 text-center"},F={key:0,class:"loader"},L={key:1,class:"text-xs text-gray-500"},I={key:2,class:"text-xs text-green-500"},N={key:3,class:"text-xs text-red-500"},H={key:4,class:"text-xs text-blue-500"},T={key:5,class:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true"},V=d(()=>e("path",{d:"M28 8H12a4 4 0 00-4 4v24a4 4 0 004 4h16m8-12l-8 8m0 0l-8-8m8 8V12","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)),j=[V],P={class:"flex text-sm text-gray-600"},M={for:"customer-upload",class:"relative cursor-pointer bg-white rounded-md font-medium text-indigo-600 hover:text-indigo-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-indigo-500"},O={key:0},X=d(()=>e("p",{class:"text-xs text-gray-500"}," XLS, XLSX up to 100MB ",-1)),Y=d(()=>e("div",null,[e("button",{type:"submit",class:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"}," Subir Clientes ")],-1)),$={__name:"Index",setup(c){const a=u(""),s=u(""),p=u(""),n=u(!1),h=l=>{a.value=l.target.files[0],p.value=a.value?a.value.name:"",s.value="File selected"},x=async()=>{if(a.value){console.log("SUBIENDO..."),n.value=!0,s.value="Uploading...";const l=new FormData;l.append("customers",a.value);try{const i=await g.post("/admin/upload-customers",l,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:q=>{}});n.value=!1,i.status===200?s.value="THE DATA HAVE BEEN SUCCESSFULLY UPLOADED":s.value="Upload failed"}catch(i){console.error(i.response.data.message),n.value=!1,s.value=`Upload Failed: ${i.response.data.message||i.message}`}}};return(l,i)=>(t(),f(w,{title:"Dashboard"},{header:m(()=>[k]),default:m(()=>[e("div",E,[e("div",C,[e("div",U,[e("form",{onSubmit:v(x,["prevent"]),class:"space-y-6"},[e("div",null,[D,e("div",A,[e("div",B,[n.value?(t(),o("span",F)):_("",!0),n.value?(t(),o("p",L,r(s.value)+": "+r(p.value),1)):s.value==="THE DATA HAVE BEEN SUCCESSFULLY UPLOADED"?(t(),o("p",I,r(s.value),1)):s.value.includes("Upload Failed")?(t(),o("p",N,r(s.value),1)):s.value==="File selected"?(t(),o("p",H," Archivo listo para subir: "+r(p.value),1)):(t(),o("svg",T,j)),e("div",P,[e("label",M,[!l.isUploading&&!a.value.value?(t(),o("span",O,"Selecciona un Archivo")):_("",!0),e("input",{id:"customer-upload",name:"customer-upload",type:"file",class:"sr-only",accept:".xlsx, .xls",onChange:h},null,32)])]),X])])]),Y],32)])])])]),_:1}))}},Q=S($,[["__scopeId","data-v-de9a063c"]]);export{Q as default};
