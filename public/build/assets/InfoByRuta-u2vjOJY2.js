import{d as h,z as U,m as p,o as l,c as m,w as v,a as e,t as o,u as b,k as w,A as G,f as c,g as u,v as L,n as _,e as r,h as M,F as P}from"./app-DlLnuV4e.js";import{_ as F}from"./GuestLayout-BdWROwhI.js";import V from"./AddPermutaModal-9gIjeVxA.js";import j from"./CatalogoModal-CVweFlOb.js";import"./Banner-CO1bJL-v.js";import"./PermutaSent-CfXZ9BHJ.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./EdfTypesCarrousel-ML-lwTzs.js";import"./CondicionesCarrousel-C0eK_UoC.js";const z={class:"grid grid-cols-2 gap-4 items-center"},B={class:"text-sm"},$={class:"font-bold text-sm text-black leading-tight"},J=e("option",{value:""},"TODOS",-1),H=e("option",{value:"LUNES"},"Lunes",-1),Y=e("option",{value:"MARTES"},"Martes",-1),Q=e("option",{value:"MIERCOLES"},"Miércoles",-1),W=e("option",{value:"JUEVES"},"Jueves",-1),q=e("option",{value:"VIERNES"},"Viernes",-1),K=e("option",{value:"SABADO"},"Sábado",-1),X=e("option",{value:"DOMINGO"},"Domingo",-1),Z=[J,H,Y,Q,W,q,K,X],ee={class:"py-6"},te={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},se={class:"overflow-hidden p-4"},oe={class:"flex flex-col gap-4"},le={class:"flex flex-row gap-4 w-3/4"},ae={class:"bg-green-600 rounded-lg flex-1 flex flex-col p-4"},de=e("div",{class:"flex items-center justify-between w-full mb-2"},[e("i",{class:"fa-solid fa-users text-white text-3xl"})],-1),re=e("h3",{class:"text-md text-white"},"Clientes negociados",-1),ne={class:"text-white text-3xl font-bold text-left w-full"},ie={class:"bg-red-600 rounded-lg flex-1 flex flex-col p-4"},ce=e("div",{class:"flex items-center justify-start w-full mb-2"},[e("i",{class:"fa-solid fa-users text-white text-3xl"})],-1),ue=e("h3",{class:"text-md text-white text-left"},"Clientes pendientes",-1),_e={class:"text-white text-3xl font-bold text-left"},fe=e("i",{class:"fa-solid fa-eye mr-2"},null,-1),he={class:"px-2"},xe=e("h1",{class:"p-2 font-bold"}," Lista de oportunidad Clientes ",-1),Ee={class:"pt-2 relative mx-auto text-gray-600 w-full"},ge={class:"flex gap-2 my-4"},pe={class:"p-2 overflow-hidden shadow-xl sm:rounded-lg"},Ce={class:"flex flex-col gap-4"},me={class:"flex-1 border-r border-gray-200"},be={class:"p-4"},Ne={style:{"font-size":"10px"},class:"text-sm font-semibold"},ve=e("i",{class:"fa-solid fa-user"},null,-1),we={style:{"font-size":"10px"},class:"text-sm"},Oe={class:"mt-2"},De={key:0,class:"bg-red-100 text-red-800 text-xs font-semibold mr-2 px-2.5 py-0.5 rounded dark:bg-red-200 dark:text-red-900"},Ae=e("i",{class:"fa-solid fa-fax"},null,-1),Ie={key:1,class:"bg-yellow-100 text-yellow-800 text-xs font-semibold mr-2 px-2.5 py-0.5 rounded dark:bg-yellow-200 dark:text-yellow-900"},ye=e("i",{class:"fa-solid fa-fax"},null,-1),Te=e("br",null,null,-1),ke={key:2,class:"text-green-600 text-xs font-semibold mr-2 px-2.5 py-0.5 rounded dark:bg-red-200 dark:text-red-900"},Se=e("i",{class:"fa-solid fa-calendar-days"},null,-1),Re={key:0,class:"flex-1 text-left"},Ue={class:"p-4 text-left"},Ge=e("div",{class:"text-sm text-black font-bold"},"Puedes negociar",-1),Le={class:"list-disc pl-3"},Me={style:{"font-size":"10px"},class:"text-xs mt-1"},Pe={key:0,style:{"font-size":"10px"},class:"mb-2 text-xs mt-1"},Fe=["href"],Ve=e("i",{class:"fa-brands fa-whatsapp"},null,-1),je={key:1,class:"flex-1 text-left"},ze={class:"p-4 text-left"},Be={class:"text-sm font-medium text-black font-semibold"},$e=e("i",{class:"fa-solid fa-circle-check mr-2"},null,-1),Je={class:"list-disc pl-3"},He={style:{"font-size":"10px"},class:"text-xs mt-1"},Ye={key:0,style:{"font-size":"10px"},class:"mb-2 text-xs mt-1"},Qe={class:"flex items-center w-full mt-4"},We={class:"flex w-full items-center after:content-[''] after:w-full after:h-0.5 after:border-b after:border-gray-200 after:border-2 after:inline-block"},qe=e("i",{class:"fa-solid fa-handshake text-xs"},null,-1),Ke=[qe],Xe={class:"flex w-full items-center after:content-[''] after:w-full after:h-0.5 after:border-b after:border-gray-200 after:border-2 after:inline-block"},Ze=e("i",{class:"fa-solid fa-arrows-rotate text-xs"},null,-1),et=[Ze],tt={class:"flex w-full items-center"},st=e("i",{class:"fa-solid fa-check text-xs"},null,-1),ot=[st],lt={class:"flex items-center w-full mt-2"},at={class:"flex w-full items-center justify-left text-xs text-gray-500"},dt={key:0,class:"text-green-500"},rt={class:"w-full items-center justify-left text-xs text-gray-500"},nt={key:0,class:"text-green-500"},it=e("br",null,null,-1),ct={class:"flex w-full items-center justify-left text-xs text-gray-500"},ut={key:0,class:"text-green-500"},Nt={__name:"InfoByRuta",props:{sv:String,ruta:String,clients:Array,negociados:Number,noNegociados:Number,gv:String,cuota:Number,pending:Number},setup(f){const i=f,x=h(""),d=h("todos"),n=h("");let N=h(!1),C=h(!1);const O=()=>["DOMINGO","LUNES","MARTES","MIERCOLES","JUEVES","VIERNES","SABADO"][new Date().getDay()],D=()=>{N.value=!1},A=()=>{C.value=!0},I=()=>{C.value=!1},y=()=>{window.location.href=`/gestor/${i.ruta}/permutas`};U(()=>{n.value=O()});const T=p(()=>{let a=new Map;return i.clients.filter(t=>{const E=t.COD_CLIENTE.toLowerCase().includes(x.value.toLowerCase()),S=t.CLIENTE.toLowerCase().includes(x.value.toLowerCase()),R=t.FREC_VISITA.includes(n.value)||n.value==="";let g=!1;return(d.value==="todos"||d.value==="pendientes"&&t.NEGOCIADO==="PENDIENTE"||d.value==="negociados"&&t.NEGOCIADO==="NEGOCIADO")&&(g=!0),!a.has(t.COD_CLIENTE)&&(E||S)&&g&&R?(a.set(t.COD_CLIENTE,!0),!0):!1}).sort((t,E)=>t.NEGOCIADO==="PENDIENTE"&&E.NEGOCIADO!=="PENDIENTE"?-1:t.NEGOCIADO!=="PENDIENTE"&&E.NEGOCIADO==="PENDIENTE"?1:0)});p(()=>{let a=new Map,s=0;return i.clients.forEach(t=>{t.NEGOCIADO==="NEGOCIADO"&&(t.FREC_VISITA.includes(n.value)||n.value==="")&&!a.has(t.COD_CLIENTE)&&(a.set(t.COD_CLIENTE,!0),s++)}),s}),p(()=>{let a=new Map,s=0;return i.clients.forEach(t=>{t.NEGOCIADO==="PENDIENTE"&&(t.FREC_VISITA.includes(n.value)||n.value==="")&&!a.has(t.COD_CLIENTE)&&(a.set(t.COD_CLIENTE,!0),s++)}),s}),p(()=>{const a=i.clients.length,s=i.negociados,t=i.cuota;return console.log("NEGOCIADOS:"),console.log(s),console.log("COUTA:"),console.log(t),a>0?Math.round(s/t*100):0});const k=new Date().toLocaleDateString("es-ES",{weekday:"short",year:"numeric",month:"short",day:"numeric"}).replace(/^\w/,a=>a.toUpperCase());return(a,s)=>(l(),m(F,{title:"Dashboard | EDF"},{header:v(()=>[e("div",z,[e("div",null,[e("p",B,o(b(k)),1),e("h2",$," ¡Hola, "+o(i.gv)+"! ",1)]),e("div",null,[w(e("select",{"onUpdate:modelValue":s[0]||(s[0]=t=>n.value=t),class:"block w-full mt-1 border border-gray-100 rounded-md shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 font-bold"},Z,512),[[G,n.value]])])])]),default:v(()=>[b(N)?(l(),m(V,{key:0,onClose:D,sv:f.sv,ruta:f.ruta},null,8,["sv","ruta"])):c("",!0),b(C)?(l(),m(j,{key:1,onClose:I})):c("",!0),e("div",ee,[e("div",te,[e("div",se,[e("div",oe,[e("div",le,[e("div",ae,[de,re,e("p",ne,o(f.negociados),1)]),e("div",ie,[ce,ue,e("p",_e,o(f.pending),1)])]),e("div",{class:"flex flex-row gap-4"},[e("button",{onClick:y,class:"bg-black text-white px-4 py-1 rounded-lg shadow-lg flex-1 font-bold"},[fe,u("Permutas ")]),e("button",{onClick:A,class:"bg-white text-black border-2 border-black px-4 py-1 rounded-lg shadow-lg flex-1 font-bold"}," Ver catálogo EDF ")])])]),e("div",he,[xe,e("div",Ee,[w(e("input",{class:"border-2 border-gray-300 bg-white h-10 px-5 pr-16 rounded-lg text-sm focus:outline-none w-full",type:"search",name:"search",placeholder:"Buscar","onUpdate:modelValue":s[1]||(s[1]=t=>x.value=t)},null,512),[[L,x.value]])]),e("div",ge,[e("button",{class:_(["px-4 py-1 text-sm rounded-full border-black border-2",{"bg-black text-white":d.value==="todos","bg-white text-black":d.value!=="todos"}]),onClick:s[2]||(s[2]=t=>d.value="todos")},"Todos",2),e("button",{class:_(["px-4 py-1 text-sm rounded-full border-black border-2",{"bg-black text-white":d.value==="pendientes","bg-white text-black":d.value!=="pendientes"}]),onClick:s[3]||(s[3]=t=>d.value="pendientes")},"Pendientes",2),e("button",{class:_(["px-4 py-1 text-sm rounded-full border-black border-2",{"bg-black text-white":d.value==="negociados","bg-white text-black":d.value!=="negociados"}]),onClick:s[4]||(s[4]=t=>d.value="negociados")},"Negociados",2)])]),e("div",pe,[e("div",Ce,[(l(!0),r(P,null,M(T.value,t=>(l(),r("div",{class:_(["bg-white shadow-md rounded-lg overflow-hidden flex border-2",{"border-green-500":t.NEGOCIADO==="NEGOCIADO","border-transparent":t.NEGOCIADO!=="NEGOCIADO"}])},[e("div",me,[e("div",be,[e("div",Ne,[ve,u(" "+o(t.COD_CLIENTE)+" - "+o(t.CLIENTE),1)]),e("div",we,o(t.DIRECCION.charAt(0).toUpperCase()+t.DIRECCION.slice(1).toLowerCase()),1),e("div",Oe,[t.N_EDF==0?(l(),r("span",De,[Ae,u(" No cuenta con EDF ")])):(l(),r("span",Ie,[ye,u(" Cuenta con "+o(t.N_EDF)+" EDF ",1)])),u(),Te,t.STATUS==="EN RUTA"?(l(),r("span",ke,[Se,u(" El EDF llega en 7 días ")])):c("",!0)])])]),t.NEGOCIADO=="PENDIENTE"?(l(),r("div",Re,[e("div",Ue,[Ge,e("ul",Le,[e("li",Me,"EDF - "+o(t.PUERTAS_A_NEGOCIAR)+" Puertas - "+o(t.CONDICION.charAt(0).toUpperCase()+t.CONDICION.slice(1).toLowerCase()),1),t.PUERTAS_A_NEGOCIAR_2?(l(),r("li",Pe,"EDF - "+o(t.PUERTAS_A_NEGOCIAR_2)+" Puertas - "+o(t.CONDICION.charAt(0).toUpperCase()+t.CONDICION_2.slice(1).toLowerCase()),1)):c("",!0)]),e("a",{href:"https://wa.link/ibba8o",target:"_blank",class:"ml-auto bg-red-500 hover:bg-red-700 text-white font-bold py-1 px-2 rounded-md"},[Ve,u(" Negociar EDF ")],8,Fe)])])):(l(),r("div",je,[e("div",ze,[e("div",Be,[$e,u("Has Negociado "),e("ul",Je,[e("li",He,"EDF - "+o(t.PUERTAS_A_NEGOCIAR)+" Puertas - "+o(t.CONDICION.charAt(0).toUpperCase()+t.CONDICION.slice(1).toLowerCase()),1),t.PUERTAS_A_NEGOCIAR_2?(l(),r("li",Ye,"EDF - "+o(t.PUERTAS_A_NEGOCIAR_2)+" Puertas - "+o(t.CONDICION.charAt(0).toUpperCase()+t.CONDICION_2.slice(1).toLowerCase()),1)):c("",!0)])]),e("ol",Qe,[e("li",We,[e("span",{class:_(["flex items-center justify-center w-8 h-8 rounded-full lg:h-10 lg:w-10 shrink-0",t.STATUS==="NEGOCIADO"||t.STATUS==="EN RUTA"||t.STATUS==="ENTREGADO"?"bg-green-500 text-white":"bg-gray-50 text-gray-300"])},Ke,2)]),e("li",Xe,[e("span",{class:_(["flex items-center justify-center w-8 h-8 rounded-full lg:h-10 lg:w-10 shrink-0",t.STATUS==="EN RUTA"||t.STATUS==="ENTREGADO"?"bg-green-500 text-white":"bg-gray-50 text-gray-300"])},et,2)]),e("li",tt,[e("span",{class:_(["flex items-center justify-center w-8 h-8 rounded-full lg:h-10 lg:w-10 shrink-0",t.STATUS==="ENTREGADO"?"bg-green-500 text-white":"bg-gray-50 text-gray-300"])},ot,2)])]),e("div",lt,[e("div",at,[t.STATUS==="NEGOCIADO"?(l(),r("span",dt,"Negociado")):c("",!0)]),e("div",rt,[t.STATUS==="EN RUTA"?(l(),r("span",nt,"En Ruta")):c("",!0),it]),e("div",ct,[t.STATUS==="ENTREGADO"?(l(),r("span",ut,"Entregado")):c("",!0)])])])]))],2))),256))])])])])]),_:1}))}};export{Nt as default};
