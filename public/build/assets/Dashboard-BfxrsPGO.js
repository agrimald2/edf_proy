import{d as c,x as v,o as s,c as y,w as m,a as e,i as b,e as a,f as h,t as u,j as w,p as k,k as D}from"./app-BBBxAn0J.js";import{_ as E}from"./AppLayout-CmdjzGqO.js";import{_ as S}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Banner-C5u4FOEA.js";const i=r=>(k("data-v-eb790c2c"),r=r(),D(),r),C=i(()=>e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Importar Data ",-1)),U={class:"py-12"},A={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},F={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg p-8"},L=i(()=>e("label",{for:"file-upload",class:"block text-sm font-medium text-gray-700"}," Excel document ",-1)),B={class:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md"},T={class:"space-y-1 text-center"},H={key:0,class:"loader"},j={key:1,class:"text-xs text-gray-500"},I={key:2,class:"text-xs text-green-500"},N={key:3,class:"text-xs text-red-500"},V={key:4,class:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true"},P=i(()=>e("path",{d:"M28 8H12a4 4 0 00-4 4v24a4 4 0 004 4h16m8-12l-8 8m0 0l-8-8m8 8V12","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)),M=[P],O={class:"flex text-sm text-gray-600"},X={for:"file-upload",class:"relative cursor-pointer bg-white rounded-md font-medium text-indigo-600 hover:text-indigo-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-indigo-500"},Y={key:0},$=i(()=>e("p",{class:"text-xs text-gray-500"}," XLS, XLSX up to 100MB ",-1)),q=i(()=>e("div",null,[e("button",{type:"submit",class:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"}," Cargar Data ")],-1)),z={__name:"Dashboard",setup(r){const l=c(null),t=c(""),f=c(""),d=c(!1),x=n=>{l.value=n.target.files[0],f.value=l.value?l.value.name:"",t.value="File selected"},_=async()=>{if(l.value){d.value=!0,t.value="Uploading...";const n=new FormData;console.log("FormData"),n.append("excel",l.value),console.log("Appended");try{console.log("Try...");const o=await w.post("/upload-excel",n,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:G=>{}});d.value=!1,o.status===200?t.value="THE DATA HAVE BEEN SUCCESSFULLY UPLOADED":t.value="Upload failed"}catch(o){console.log("HOLA"),console.dir(o.response.data.message),d.value=!1,t.value=`Upload Failed: ${o.response.data.message||o.response.data.message}`}}},g=()=>{window.location.href="/nedfac_template.xlsx"},p=v(()=>t.value==="File selected"||d.value);return(n,o)=>(s(),y(E,{title:"Dashboard"},{header:m(()=>[C]),default:m(()=>[e("div",U,[e("div",A,[e("div",F,[e("form",{onSubmit:b(_,["prevent"]),class:"space-y-6"},[e("div",null,[L,e("div",{class:"my-1"},[e("button",{onClick:g,class:"inline-flex justify-center py-1 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500"}," Descarga Excel Template ")]),e("div",B,[e("div",T,[p.value?(s(),a("span",H)):h("",!0),p.value?(s(),a("p",j,u(t.value)+": "+u(f.value),1)):t.value==="THE DATA HAVE BEEN SUCCESSFULLY UPLOADED"?(s(),a("p",I,u(t.value),1)):t.value.includes("Upload Failed")?(s(),a("p",N,u(t.value),1)):(s(),a("svg",V,M)),e("div",O,[e("label",X,[p.value?h("",!0):(s(),a("span",Y,"Selecciona un Archivo")),e("input",{id:"file-upload",name:"file-upload",type:"file",class:"sr-only",accept:".xlsx, .xls",onChange:x},null,32)])]),$])])]),q],32)])])])]),_:1}))}},W=S(z,[["__scopeId","data-v-eb790c2c"]]);export{W as default};
