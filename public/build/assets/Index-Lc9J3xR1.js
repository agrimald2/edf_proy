import{j as u,l as p,o as l,c as y,w as b,a as e,g as d,e as r,h as g,t as a,n as h,F as x,i as f,m as w,v as C,b as N}from"./app-C58ATCsl.js";import{_ as k}from"./AppLayout-DQLR4tAT.js";import M from"./CreateNotificationModal-Cxr4IwXh.js";import{_ as D}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Banner-CdfeB5GC.js";const A={data(){return{notifications:[],isCreateModalVisible:!1}},components:{AppLayout:k,CreateNotificationModal:M},created(){this.fetchNotifications()},methods:{fetchNotifications(){u.get("/notifications").then(s=>{this.notifications=s.data}).catch(s=>{console.error("There was an error fetching the notifications:",s)})},showCreateNotificationModal(){this.isCreateModalVisible=!0},hideCreateNotificationModal(){this.isCreateModalVisible=!1},editNotification(s){},deleteNotification(s){confirm("Are you sure you want to delete this notification?")&&u.delete(`/notifications/${s}`).then(i=>{this.fetchNotifications()}).catch(i=>{console.error("There was an error deleting the notification:",i)})},toggleActive(s){const i=s.active;s.active=!s.active,u.put(`/notifications/toggle/${s.id}`).then(_=>{}).catch(_=>{console.error("There was an error updating the notification status:",_),s.active=i})}}},S=e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Manage Notifications ",-1),L={class:"py-12"},B={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},V={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg p-8"},j={class:"flex justify-between mb-6"},F=e("i",{class:"fas fa-plus-circle"},null,-1),G={class:"hidden sm:block"},T={class:"table-auto w-full mb-6 rounded-lg overflow-hidden"},E=e("thead",{class:"bg-gray-100"},[e("tr",null,[e("th",{class:"px-4 py-2"},"Content"),e("th",{class:"px-4 py-2"},"Link"),e("th",{class:"px-4 py-2"},"Start Date"),e("th",{class:"px-4 py-2"},"End Date"),e("th",{class:"px-4 py-2"},"Active"),e("th",{class:"px-4 py-2"},"Actions")])],-1),I={class:"px-4 py-2"},z={class:"px-4 py-2"},q={class:"px-4 py-2"},H={class:"px-4 py-2"},J={class:"px-4 py-2"},K=["onClick"],O={class:"px-4 py-2 flex justify-center"},P=["onClick"],Q=e("i",{class:"fas fa-trash-alt"},null,-1),R=[Q],U={class:"sm:hidden"},W={class:"divide-y divide-gray-200"},X={class:"flex flex-col bg-gray-100 p-4 rounded-lg"},Y={class:"font-bold mb-2"},Z={class:"text-blue-500 hover:text-blue-600 mb-2"},$={class:"text-sm text-gray-600 mb-2"},ee={class:"text-sm text-gray-600 mb-2"},te={class:"flex items-center justify-between"},se=["onClick"],oe=["onClick"],ae=e("i",{class:"fas fa-edit"},null,-1),ie=["onClick"],le=e("i",{class:"fas fa-trash-alt"},null,-1);function ne(s,i,_,ce,n,o){const v=p("CreateNotificationModal"),m=p("AppLayout");return l(),y(m,{title:"Notifications"},{header:b(()=>[S]),default:b(()=>[e("div",L,[e("div",B,[e("div",V,[e("div",j,[e("button",{onClick:i[0]||(i[0]=(...t)=>o.showCreateNotificationModal&&o.showCreateNotificationModal(...t)),class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded"},[F,d(" Add Notification ")])]),e("div",G,[e("table",T,[E,e("tbody",null,[(l(!0),r(x,null,g(n.notifications,t=>(l(),r("tr",{key:t.id,class:"border-b text-center"},[e("td",I,a(t.content),1),e("td",z,a(t.link),1),e("td",q,a(t.start_date?new Date(t.start_date).toLocaleDateString("en-GB"):"sin fecha"),1),e("td",H,a(t.end_date?new Date(t.end_date).toLocaleDateString("en-GB"):"sin fecha"),1),e("td",J,[e("button",{class:h([t.active?"bg-green-500":"bg-gray-300","text-white font-bold py-2 px-3 rounded"]),onClick:c=>o.toggleActive(t)},[e("i",{class:h(t.active?"fas fa-check-circle":"fas fa-times-circle")},null,2)],10,K)]),e("td",O,[e("button",{onClick:c=>o.deleteNotification(t.id),class:"bg-red-500 hover:bg-red-700 text-white font-bold py-3 px-3 rounded flex items-center justify-center"},R,8,P)])]))),128))])])]),e("div",U,[e("ul",W,[(l(!0),r(x,null,g(n.notifications,t=>(l(),r("li",{key:t.id,class:"py-4"},[e("div",X,[e("div",Y,a(t.content),1),e("div",Z,a(t.link),1),e("div",$,a(t.start_date?new Date(t.start_date).toLocaleDateString("en-GB"):"No start date"),1),e("div",ee,a(t.end_date?new Date(t.end_date).toLocaleDateString("en-GB"):"No end date"),1),e("div",te,[e("button",{class:h([t.active?"bg-green-500 hover:bg-green-600":"bg-gray-300 hover:bg-gray-400","text-white font-bold py-1 px-3 rounded transition duration-300 ease-in-out"]),onClick:f(c=>o.toggleActive(t),["stop"])},[e("i",{class:h(t.active?"fas fa-check-circle":"fas fa-times-circle")},null,2),d(" "+a(t.active?"Active":"Inactive"),1)],10,se),e("div",null,[e("button",{onClick:f(c=>o.editNotification(t),["stop"]),class:"bg-yellow-500 hover:bg-yellow-600 text-white font-bold py-1 px-3 rounded mr-2 transition duration-300 ease-in-out"},[ae,d(" Edit ")],8,oe),e("button",{onClick:f(c=>o.deleteNotification(t.id),["stop"]),class:"bg-red-500 hover:bg-red-600 text-white font-bold py-1 px-3 rounded transition duration-300 ease-in-out"},[le,d(" Delete ")],8,ie)])])])]))),128))])])])]),w(N(v,{visible:n.isCreateModalVisible,onClose:o.hideCreateNotificationModal,onFormSubmitted:o.fetchNotifications},null,8,["visible","onClose","onFormSubmitted"]),[[C,n.isCreateModalVisible]])])]),_:1})}const fe=D(A,[["render",ne]]);export{fe as default};
