import{d,x as b,l as w,o as m,c as D,w as _,j as y,a as t,m as u,y as k,s as x,e as h,h as C,t as l,n as v,F as S}from"./app-CpN6b7nJ.js";import{_ as P}from"./AppLayout-ADD3as-o.js";import{_ as B}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Banner-B-sOSfdH.js";const A={components:{AppLayout:P},setup(){const r=d([]),a=d(""),i=d(""),s=d(""),c=d(""),g=e=>{switch(e.instance_status){case"Supervisor":return e.supervisor_status;case"Gerente":return e.gerente_status;case"Trade":return e.trade_status;default:return"Unknown"}},p=e=>{switch(e){case"Supervisor":return"bg-gray-100 text-gray-800";case"Gerente":return"bg-gray-100 text-gray-800";case"Trade":return"bg-gray-100 text-gray-800";case"Pending":return"bg-yellow-100 text-yellow-800";case"Approved":return"bg-green-100 text-green-800";case"Rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},o=e=>{const n={year:"numeric",month:"long",day:"numeric"};return new Date(e).toLocaleDateString(void 0,n)},f=b(()=>r.value.filter(e=>(!a.value||e.instance_status===a.value)&&(!i.value||new Date(e.created_at)>=new Date(i.value))&&(!s.value||new Date(e.created_at)<=new Date(s.value))&&(!c.value||e.cod_cliente.includes(c.value))));return{permutas:r,filterStatus:a,startDate:i,endDate:s,searchCustomerCode:c,filteredPermutas:f,getPermutas:async()=>{try{const e=await y.post("/admin/permutas");console.dir(e.data),r.value=e.data.permutas}catch(e){console.error("Error fetching permutas:",e)}},getStatus:g,statusBadgeClass:p,formatDate:o,deletePermuta:async e=>{try{await y.delete(`/admin/permutas/${e}`),r.value=r.value.filter(n=>n.id!==e)}catch(n){console.error("Error deleting permuta:",n)}}}},mounted(){this.getPermutas()}},V=t("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Permutas ",-1),L={class:"py-12"},T={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},U={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg p-8"},E={class:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6"},G=t("label",{for:"instanceStatus",class:"block text-sm font-medium text-gray-700"},"Instance Status",-1),j=t("option",{value:""},"All",-1),I=t("option",{value:"Supervisor"},"Supervisor",-1),F=t("option",{value:"Gerente"},"Gerente",-1),M=t("option",{value:"Trade"},"Trade",-1),z=[j,I,F,M],N=t("label",{for:"startDate",class:"block text-sm font-medium text-gray-700"},"Start Date",-1),R=t("label",{for:"endDate",class:"block text-sm font-medium text-gray-700"},"End Date",-1),q={class:"md:col-span-3"},H=t("label",{for:"customerCode",class:"block text-sm font-medium text-gray-700"},"Customer Code",-1),J={class:"overflow-x-auto"},K={class:"min-w-full divide-y divide-gray-200"},O=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Customer Code "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Volume "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Instance / Status "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Date "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actions ")])],-1),Q={class:"bg-white divide-y divide-gray-200"},W={class:"px-6 py-4 whitespace-nowrap"},X={class:"px-6 py-4 whitespace-nowrap"},Y={class:"px-6 py-4 whitespace-nowrap"},Z={class:"flex items-center justify-start space-x-2"},$={class:"px-6 py-4 whitespace-nowrap"},tt={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-left"},et=t("a",{href:"#",class:"text-indigo-600 hover:text-indigo-900"},[t("i",{class:"fas fa-eye"})],-1),st=["onClick"],ot=t("i",{class:"fas fa-trash"},null,-1),at=[ot];function rt(r,a,i,s,c,g){const p=w("AppLayout");return m(),D(p,{title:"Dashboard"},{header:_(()=>[V]),default:_(()=>[t("div",L,[t("div",T,[t("div",U,[t("div",E,[t("div",null,[G,u(t("select",{id:"instanceStatus","onUpdate:modelValue":a[0]||(a[0]=o=>s.filterStatus=o),class:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md"},z,512),[[k,s.filterStatus]])]),t("div",null,[N,u(t("input",{type:"date",id:"startDate","onUpdate:modelValue":a[1]||(a[1]=o=>s.startDate=o),class:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md"},null,512),[[x,s.startDate]])]),t("div",null,[R,u(t("input",{type:"date",id:"endDate","onUpdate:modelValue":a[2]||(a[2]=o=>s.endDate=o),class:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md"},null,512),[[x,s.endDate]])]),t("div",q,[H,u(t("input",{type:"text",id:"customerCode","onUpdate:modelValue":a[3]||(a[3]=o=>s.searchCustomerCode=o),class:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md"},null,512),[[x,s.searchCustomerCode]])])]),t("div",J,[t("table",K,[O,t("tbody",Q,[(m(!0),h(S,null,C(s.filteredPermutas,o=>(m(),h("tr",{key:o.id},[t("td",W,l(o.cod_cliente),1),t("td",X,l(o.volume),1),t("td",Y,[t("div",Z,[t("div",{class:v([s.statusBadgeClass(o.instance_status),"uppercase px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},l(o.instance_status),3),t("div",{class:v([s.statusBadgeClass(s.getStatus(o)),"uppercase px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},l(s.getStatus(o)),3)])]),t("td",$,l(s.formatDate(o.created_at)),1),t("td",tt,[et,t("a",{href:"#",onClick:f=>s.deletePermuta(o.id),class:"text-red-600 hover:text-red-900 ml-3"},at,8,st)])]))),128))])])])])])])]),_:1})}const pt=B(A,[["render",rt]]);export{pt as default};
