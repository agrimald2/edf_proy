import{o as a,e as l,a as e,j as c,m as i,z as m,F as d,h as u,A as p,t as h}from"./app-DbDUQngT.js";import{_ as f}from"./_plugin-vue_export-helper-DlAUqK2U.js";const b={props:{permutaId:{type:Number,required:!0}},data(){return{formData:{rejected_reason:0,rejected_comments:null},reasons:[]}},mounted(){this.getReasons()},methods:{submitForm(){fetch(`/api/permutas/${this.permutaId}/reject/gerente`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.formData)}).then(t=>t.json()).then(t=>{console.log("Permuta rejected:",t),this.$emit("close"),this.$emit("show-rejected-modal")}).catch(t=>{console.error("Error rejecting permuta:",t)})},closeModal(){this.$emit("close")},backModal(){this.$emit("show-details-modal")},getReasons(){fetch("/api/permuta-rejected-reasons").then(t=>t.json()).then(t=>{this.reasons=t}).catch(t=>{console.error("Error fetching reasons:",t)})}}},_=e("div",{class:"text-center mb-10 pt-2"},[e("h2",{class:"text-lg font-bold"},"Rechazar Permuta"),e("p",null,"Ingresa el motivo del rechazo")],-1),g={class:"grid grid-cols-1 gap-4"},v=e("option",{value:"0",disabled:"",selected:""},"Selecciona Motivo de rechazo",-1),j=["value"],x=e("div",{class:"mt-2 text-center bg-black border rounded-lg py-2 border-black font-medium"},[e("button",{type:"submit",class:"text-white hover:underline focus:outline-none rounded-full"},"Aceptar")],-1),y={class:"mt-2 text-center bg-white border rounded-lg py-2 border-black font-medium"};function k(t,s,M,w,r,n){return a(),l(d,null,[_,e("div",null,[e("form",{class:"space-y-4",onSubmit:s[3]||(s[3]=c((...o)=>n.submitForm&&n.submitForm(...o),["prevent"]))},[e("div",g,[e("div",null,[i(e("select",{"onUpdate:modelValue":s[0]||(s[0]=o=>r.formData.rejected_reason=o),class:"w-full inputs_permutas"},[v,(a(!0),l(d,null,u(r.reasons,o=>(a(),l("option",{key:o,value:o.name},h(o.name),9,j))),128))],512),[[m,r.formData.rejected_reason]])]),e("div",null,[i(e("textarea",{"onUpdate:modelValue":s[1]||(s[1]=o=>r.formData.rejected_comments=o),placeholder:"Comentarios (opcional)",class:"w-full inputs_permutas",style:{"min-height":"100px"}},null,512),[[p,r.formData.rejected_comments]])])]),x,e("div",y,[e("button",{onClick:s[2]||(s[2]=(...o)=>n.backModal&&n.backModal(...o)),type:"button",class:"text-black hover:underline focus:outline-none rounded-full"},"Atr√°s")])],32)])],64)}const F=f(b,[["render",k]]);export{F as default};
