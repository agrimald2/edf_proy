import{d as c,l as v,o as t,c as g,w as _,a as e,j as y,e as a,f as h,t as u,q as b,s as w,x as E}from"./app-Cxjl02ep.js";import{_ as U}from"./AppLayout-DVjm-0PO.js";import{_ as k}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Banner-8dFRkHzA.js";const n=d=>(w("data-v-d6fc2b0b"),d=d(),E(),d),S=n(()=>e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Upload Excel Document ",-1)),D={class:"py-12"},C={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},A={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg p-8"},F=n(()=>e("label",{for:"file-upload",class:"block text-sm font-medium text-gray-700"}," Excel document ",-1)),L={class:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md"},B={class:"space-y-1 text-center"},H={key:0,class:"loader"},N={key:1,class:"text-xs text-gray-500"},T={key:2,class:"text-xs text-green-500"},V={key:3,class:"text-xs text-red-500"},j={key:4,class:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true"},I=n(()=>e("path",{d:"M28 8H12a4 4 0 00-4 4v24a4 4 0 004 4h16m8-12l-8 8m0 0l-8-8m8 8V12","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)),P=[I],M={class:"flex text-sm text-gray-600"},O={for:"file-upload",class:"relative cursor-pointer bg-white rounded-md font-medium text-indigo-600 hover:text-indigo-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-indigo-500"},X={key:0},Y=n(()=>e("p",{class:"text-xs text-gray-500"}," XLS, XLSX up to 10MB ",-1)),$=n(()=>e("div",null,[e("button",{type:"submit",class:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"}," Upload ")],-1)),q={__name:"Dashboard",setup(d){const l=c(null),s=c(""),f=c(""),r=c(!1),m=i=>{l.value=i.target.files[0],f.value=l.value?l.value.name:"",s.value="File selected"},x=async()=>{if(l.value){r.value=!0,s.value="Uploading...";const i=new FormData;i.append("excel",l.value);try{const o=await b.post("/upload-excel",i,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:z=>{}});r.value=!1,o.status===200?s.value="THE DATA HAVE BEEN SUCCESSFULLY UPLOADED":s.value="Upload failed"}catch(o){console.log("HOLA"),console.dir(o.response.data.message),r.value=!1,s.value=`Upload Failed: ${o.response.data.message||o.response.data.message}`}}},p=v(()=>s.value==="File selected"||r.value);return(i,o)=>(t(),g(U,{title:"Dashboard"},{header:_(()=>[S]),default:_(()=>[e("div",D,[e("div",C,[e("div",A,[e("form",{onSubmit:y(x,["prevent"]),class:"space-y-6"},[e("div",null,[F,e("div",L,[e("div",B,[p.value?(t(),a("span",H)):h("",!0),p.value?(t(),a("p",N,u(s.value)+": "+u(f.value),1)):s.value==="THE DATA HAVE BEEN SUCCESSFULLY UPLOADED"?(t(),a("p",T,u(s.value),1)):s.value.includes("Upload Failed")?(t(),a("p",V,u(s.value),1)):(t(),a("svg",j,P)),e("div",M,[e("label",O,[p.value?h("",!0):(t(),a("span",X,"Upload a file")),e("input",{id:"file-upload",name:"file-upload",type:"file",class:"sr-only",accept:".xlsx, .xls",onChange:m},null,32)])]),Y])])]),$],32)])])])]),_:1}))}},R=k(q,[["__scopeId","data-v-d6fc2b0b"]]);export{R as default};
