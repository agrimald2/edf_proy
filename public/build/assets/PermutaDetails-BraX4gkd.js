import v from"./PermutaRejectReasonModal-B9axu2T5.js";import g from"./PermutaApproveConfirmationModal-DIpdoGK3.js";import M from"./PermutaApprovedModal-6WNZRqn3.js";import w from"./PermutaRejectedModal-BQONJfrs.js";import{_ as b}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{i as m,o as n,e as u,a as e,t as a,f as r,c}from"./app-CYQM2K1X.js";const R={components:{PermutaRejectReasonModal:v,PermutaApproveConfirmationModal:g,PermutaApprovedModal:M,PermutaRejectedModal:w},props:{show:{type:Boolean,default:!1},permuta:{type:Object,required:!0}},data(){return{formData:{clientCode:this.permuta.cod_cliente,volumeCU:this.permuta.volume,location:this.permuta.location.name,route:this.permuta.route,subcanal:this.permuta.subcanal,haveEdf:this.permuta.have_edf,doorsToNegotiate:this.permuta.doors_to_negotiate,condition:this.permuta.condition,reason:this.permuta.reason,justification:this.permuta.justification},reasons:[],sentPermutaViewModal:!1,errorMessage:"",isSubmitting:!1,showDetails:!0,showRejectReasonModal:!1,showRejectedModal:!1,showApproveConfirmationModal:!1,showApprovedModal:!1}},mounted(){fetch("/api/permuta-reasons").then(d=>d.json()).then(d=>{this.reasons=d}).catch(d=>{console.error("Error fetching reasons:",d)})},methods:{approvePermuta(){this.showDetails=!1,this.showApproveConfirmationModal=!0},rejectPermuta(){this.showDetails=!1,this.showRejectReasonModal=!0},detailsModal(){console.log("A"),this.showDetails=!0,this.showRejectReasonModal=!1,this.showRejectedModal=!1,this.showApproveConfirmationModal=!1,this.showApprovedModal=!1},closeModal(){this.$emit("close"),this.detailsModal()}}},y={class:"z-20 fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center p-4"},j={class:"bg-white rounded-lg shadow-lg max-w-lg w-full p-6 relative"},C=e("i",{class:"fa-solid fa-circle-xmark text-gray-500"},null,-1),P=[C],A={key:0},D={class:"text-center mb-6"},x=e("h2",{class:"text-2xl font-bold"},"Detalles de Permuta",-1),k={key:0,class:"text-gray-600"},S={key:0,class:"text-red-500 text-center mb-4"},B={class:"space-y-4"},E={class:"bg-gray-100 p-4 rounded-lg"},N=e("h3",{class:"font-bold mb-2 text-red-700"},"Información del cliente",-1),V={class:"grid grid-cols-2 gap-4"},U=e("p",null,[e("span",{class:"font-medium"},"Código de cliente:")],-1),O=e("p",null,[e("span",{class:"font-medium"},"Volumen en CU:")],-1),T=e("p",null,[e("span",{class:"font-medium"},"Locación:")],-1),q=e("p",null,[e("span",{class:"font-medium"},"Ruta:")],-1),z=e("p",null,[e("span",{class:"font-medium"},"Subcanal:")],-1),F={class:"bg-gray-100 p-4 rounded-lg"},H=e("h3",{class:"font-bold mb-2 text-red-700"},"EDF a solicitar",-1),I={class:"grid grid-cols-2 gap-4"},J=e("p",null,[e("span",{class:"font-medium"},"Condición:")],-1),L=e("p",null,[e("span",{class:"font-medium"},"Puertas a negociar:")],-1),Z=e("p",null,[e("span",{class:"font-medium"},"Motivo:")],-1),G=e("p",null,[e("span",{class:"font-medium"},"Justificación:")],-1),K={key:1,class:"mt-6 flex justify-between"};function Q(d,t,i,W,o,l){const p=m("PermutaRejectReasonModal"),f=m("PermutaRejectedModal"),h=m("PermutaApproveConfirmationModal"),_=m("PermutaApprovedModal");return n(),u("div",y,[e("div",j,[e("button",{onClick:t[0]||(t[0]=(...s)=>l.closeModal&&l.closeModal(...s)),class:"absolute top-2 right-2 text-gray-500 hover:text-gray-700"},P),o.showDetails?(n(),u("div",A,[e("div",D,[x,i.permuta.supervisor_approved_by?(n(),u("p",k,"Aprobado por: "+a(i.permuta.supervisor_approved_by),1)):r("",!0)]),e("div",null,[o.errorMessage?(n(),u("div",S,a(o.errorMessage),1)):r("",!0),e("div",B,[e("div",E,[N,e("div",V,[U,e("p",null,a(o.formData.clientCode),1),O,e("p",null,a(o.formData.volumeCU),1),T,e("p",null,a(o.formData.location),1),q,e("p",null,a(o.formData.route),1),z,e("p",null,a(o.formData.subcanal),1)])]),e("div",F,[H,e("div",I,[J,e("p",null,a(o.formData.condition),1),L,e("p",null,a(o.formData.doorsToNegotiate),1),Z,e("p",null,a(o.formData.reason),1),G,e("p",null,a(o.formData.justification),1)])])]),i.permuta.gerente_status=="Pending"?(n(),u("div",K,[e("button",{onClick:t[1]||(t[1]=(...s)=>l.approvePermuta&&l.approvePermuta(...s)),class:"w-1/2 py-3 font-medium rounded-md bg-green-500 text-white hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-400 focus:ring-opacity-50 mr-2"}," APROBAR "),e("button",{onClick:t[2]||(t[2]=(...s)=>l.rejectPermuta&&l.rejectPermuta(...s)),class:"w-1/2 py-3 font-medium rounded-md bg-red-500 text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-400 focus:ring-opacity-50 ml-2"}," RECHAZAR ")])):r("",!0)])])):r("",!0),o.showRejectReasonModal?(n(),c(p,{key:1,"permuta-id":i.permuta.id,onShowDetailsModal:l.detailsModal,onShowRejectedModal:t[3]||(t[3]=s=>o.showRejectedModal=!0),onClose:t[4]||(t[4]=s=>o.showRejectReasonModal=!1)},null,8,["permuta-id","onShowDetailsModal"])):r("",!0),o.showRejectedModal?(n(),c(f,{key:2,"permuta-id":i.permuta.id,onClose:t[5]||(t[5]=s=>o.showRejectedModal=!1)},null,8,["permuta-id"])):r("",!0),o.showApproveConfirmationModal?(n(),c(h,{key:3,"permuta-id":i.permuta.id,onShowDetailsModal:l.detailsModal,onClose:t[6]||(t[6]=s=>o.showApproveConfirmationModal=!1),onShowApprovedModal:t[7]||(t[7]=s=>o.showApprovedModal=!0)},null,8,["permuta-id","onShowDetailsModal"])):r("",!0),o.showApprovedModal?(n(),c(_,{key:4,"permuta-id":i.permuta.id,onClose:t[8]||(t[8]=s=>o.showApprovedModal=!1)},null,8,["permuta-id"])):r("",!0)])])}const se=b(R,[["render",Q]]);export{se as default};
