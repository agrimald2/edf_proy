import g from"./PermutaRejectReasonModal-D0JipR2f.js";import v from"./PermutaApproveConfirmationModal-DLQUVXd2.js";import M from"./PermutaApprovedModal-CpXReUJk.js";import w from"./PermutaRejectedModal-Cci5gZyE.js";import{_ as R}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{i as u,o as n,e as m,a as e,t as a,f as r,c}from"./app-C86U5UnL.js";const b={components:{PermutaRejectReasonModal:g,PermutaApproveConfirmationModal:v,PermutaApprovedModal:M,PermutaRejectedModal:w},props:{show:{type:Boolean,default:!1},permuta:{type:Object,required:!0}},data(){return{formData:{clientCode:this.permuta.cod_cliente,volumeCU:this.permuta.volume,location:this.permuta.location.name,route:this.permuta.route,subcanal:this.permuta.subcanal,haveEdf:this.permuta.have_edf,doorsToNegotiate:this.permuta.doors_to_negotiate,condition:this.permuta.condition,reason:this.permuta.reason,justification:this.permuta.justification},reasons:[],sentPermutaViewModal:!1,errorMessage:"",isSubmitting:!1,showDetails:!0,showRejectReasonModal:!1,showRejectedModal:!1,showApproveConfirmationModal:!1,showApprovedModal:!1}},mounted(){fetch("/api/permuta-reasons").then(i=>i.json()).then(i=>{this.reasons=i}).catch(i=>{console.error("Error fetching reasons:",i)})},methods:{approvePermuta(){this.showDetails=!1,this.showApproveConfirmationModal=!0},rejectPermuta(){this.showDetails=!1,this.showRejectReasonModal=!0},detailsModal(){console.log("A"),this.showDetails=!0,this.showRejectReasonModal=!1,this.showRejectedModal=!1,this.showApproveConfirmationModal=!1,this.showApprovedModal=!1},closeModal(){this.$emit("close"),this.detailsModal()}}},j={class:"z-20 fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center p-4"},y={class:"bg-white rounded-lg shadow-lg max-w-lg w-full p-6 relative"},C=e("i",{class:"fa-solid fa-circle-xmark text-gray-500"},null,-1),P=[C],D={key:0},A=e("div",{class:"text-center mb-6"},[e("h2",{class:"text-2xl font-bold"},"Detalles de Permuta"),e("p",{class:"text-gray-600"},"Revisa la información de la permuta")],-1),x={key:0,class:"text-red-500 text-center mb-4"},k={class:"space-y-4"},S={class:"bg-gray-100 p-4 rounded-lg"},B=e("h3",{class:"font-bold mb-2 text-red-700"},"Información del cliente",-1),E={class:"grid grid-cols-2 gap-4"},N=e("p",null,[e("span",{class:"font-medium"},"Código de cliente:")],-1),V=e("p",null,[e("span",{class:"font-medium"},"Volumen en CU:")],-1),U=e("p",null,[e("span",{class:"font-medium"},"Locación:")],-1),O=e("p",null,[e("span",{class:"font-medium"},"Ruta:")],-1),T=e("p",null,[e("span",{class:"font-medium"},"Subcanal:")],-1),q={class:"bg-gray-100 p-4 rounded-lg"},z=e("h3",{class:"font-bold mb-2 text-red-700"},"EDF a solicitar",-1),F={class:"grid grid-cols-2 gap-4"},H=e("p",null,[e("span",{class:"font-medium"},"Condición:")],-1),I=e("p",null,[e("span",{class:"font-medium"},"Puertas a negociar:")],-1),J=e("p",null,[e("span",{class:"font-medium"},"Motivo:")],-1),L=e("p",null,[e("span",{class:"font-medium"},"Justificación:")],-1),Z={key:1,class:"mt-6 flex justify-between"};function G(i,t,d,K,o,l){const p=u("PermutaRejectReasonModal"),f=u("PermutaRejectedModal"),h=u("PermutaApproveConfirmationModal"),_=u("PermutaApprovedModal");return n(),m("div",j,[e("div",y,[e("button",{onClick:t[0]||(t[0]=(...s)=>l.closeModal&&l.closeModal(...s)),class:"absolute top-2 right-2 text-gray-500 hover:text-gray-700"},P),o.showDetails?(n(),m("div",D,[A,e("div",null,[o.errorMessage?(n(),m("div",x,a(o.errorMessage),1)):r("",!0),e("div",k,[e("div",S,[B,e("div",E,[N,e("p",null,a(o.formData.clientCode),1),V,e("p",null,a(o.formData.volumeCU),1),U,e("p",null,a(o.formData.location),1),O,e("p",null,a(o.formData.route),1),T,e("p",null,a(o.formData.subcanal),1)])]),e("div",q,[z,e("div",F,[H,e("p",null,a(o.formData.condition),1),I,e("p",null,a(o.formData.doorsToNegotiate),1),J,e("p",null,a(o.formData.reason),1),L,e("p",null,a(o.formData.justification),1)])])]),d.permuta.gerente_status=="Pending"?(n(),m("div",Z,[e("button",{onClick:t[1]||(t[1]=(...s)=>l.approvePermuta&&l.approvePermuta(...s)),class:"w-1/2 py-3 font-medium rounded-md bg-green-500 text-white hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-400 focus:ring-opacity-50 mr-2"}," APROBAR "),e("button",{onClick:t[2]||(t[2]=(...s)=>l.rejectPermuta&&l.rejectPermuta(...s)),class:"w-1/2 py-3 font-medium rounded-md bg-red-500 text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-400 focus:ring-opacity-50 ml-2"}," RECHAZAR ")])):r("",!0)])])):r("",!0),o.showRejectReasonModal?(n(),c(p,{key:1,"permuta-id":d.permuta.id,onShowDetailsModal:l.detailsModal,onShowRejectedModal:t[3]||(t[3]=s=>o.showRejectedModal=!0),onClose:t[4]||(t[4]=s=>o.showRejectReasonModal=!1)},null,8,["permuta-id","onShowDetailsModal"])):r("",!0),o.showRejectedModal?(n(),c(f,{key:2,"permuta-id":d.permuta.id,onClose:t[5]||(t[5]=s=>o.showRejectedModal=!1)},null,8,["permuta-id"])):r("",!0),o.showApproveConfirmationModal?(n(),c(h,{key:3,"permuta-id":d.permuta.id,onShowDetailsModal:l.detailsModal,onClose:t[6]||(t[6]=s=>o.showApproveConfirmationModal=!1),onShowApprovedModal:t[7]||(t[7]=s=>o.showApprovedModal=!0)},null,8,["permuta-id","onShowDetailsModal"])):r("",!0),o.showApprovedModal?(n(),c(_,{key:4,"permuta-id":d.permuta.id,onClose:t[8]||(t[8]=s=>o.showApprovedModal=!1)},null,8,["permuta-id"])):r("",!0)])])}const oe=R(b,[["render",G]]);export{oe as default};
