import{d as c,o as s,c as x,w as _,a as e,i as g,e as l,f as h,t as u,j as v,p as y,k as b}from"./app-C58ATCsl.js";import{_ as k}from"./AppLayout-DQLR4tAT.js";import{_ as w}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Banner-CdfeB5GC.js";const d=r=>(y("data-v-e61357c7"),r=r(),b(),r),S=d(()=>e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Lista Negra ",-1)),E={class:"py-12"},U={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},D={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg p-8"},L=d(()=>e("label",{for:"blacklist-upload",class:"block text-sm font-medium text-gray-700"}," Documento de Lista Negra ",-1)),C={class:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md"},A={class:"space-y-1 text-center"},B={key:0,class:"loader"},N={key:1,class:"text-xs text-gray-500"},F={key:2,class:"text-xs text-green-500"},I={key:3,class:"text-xs text-red-500"},H={key:4,class:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true"},T=d(()=>e("path",{d:"M28 8H12a4 4 0 00-4 4v24a4 4 0 004 4h16m8-12l-8 8m0 0l-8-8m8 8V12","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)),V=[T],j={class:"flex text-sm text-gray-600"},P={for:"blacklist-upload",class:"relative cursor-pointer bg-white rounded-md font-medium text-indigo-600 hover:text-indigo-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-indigo-500"},M={key:0},X=d(()=>e("p",{class:"text-xs text-gray-500"}," XLS, XLSX up to 100MB ",-1)),O=d(()=>e("div",null,[e("button",{type:"submit",class:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"}," Subir Lista Negra ")],-1)),Y={__name:"Index",setup(r){const i=c(null),t=c(""),p=c(""),n=c(!1),m=o=>{i.value=o.target.files[0],p.value=i.value?i.value.name:"",t.value="File selected"},f=async()=>{if(i.value){n.value=!0,t.value="Uploading...";const o=new FormData;o.append("blacklist",i.value);try{const a=await v.post("/admin/upload-blacklist",o,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:$=>{}});n.value=!1,a.status===200?t.value="THE DATA HAVE BEEN SUCCESSFULLY UPLOADED":t.value="Upload failed"}catch(a){console.error(a.response.data.message),n.value=!1,t.value=`Upload Failed: ${a.response.data.message||a.response.data.message}`}}};return(o,a)=>(s(),x(k,{title:"Dashboard"},{header:_(()=>[S]),default:_(()=>[e("div",E,[e("div",U,[e("div",D,[e("form",{onSubmit:g(f,["prevent"]),class:"space-y-6"},[e("div",null,[L,e("div",C,[e("div",A,[n.value?(s(),l("span",B)):h("",!0),n.value?(s(),l("p",N,u(t.value)+": "+u(p.value),1)):t.value==="THE DATA HAVE BEEN SUCCESSFULLY UPLOADED"?(s(),l("p",F,u(t.value),1)):t.value.includes("Upload Failed")?(s(),l("p",I,u(t.value),1)):(s(),l("svg",H,V)),e("div",j,[e("label",P,[o.isUploading?h("",!0):(s(),l("span",M,"Selecciona un Archivo")),e("input",{id:"blacklist-upload",name:"blacklist-upload",type:"file",class:"sr-only",accept:".xlsx, .xls",onChange:m},null,32)])]),X])])]),O],32)])])])]),_:1}))}},K=w(Y,[["__scopeId","data-v-e61357c7"]]);export{K as default};
